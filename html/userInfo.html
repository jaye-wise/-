<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="../css/reset.css" />
		<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="../css/nav.css" />
		<link rel="stylesheet" type="text/css" href="../css/user.css" />		
		<script src="../js/angular.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="../js/JQuery-3.1.1.min.js" type="text/javascript" charset="utf-8"></script>
	</head>

	<body ng-app='userInfo'>
		<!--nav导航栏-->
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<!--logo-->
				<div class="navbar-header">
					<ul class="logo">
						<li role='presentation' class="active">
							<a href="userInfo.html">
								<img src="../img/shihelogo.png" alt="" />
							</a>
						</li>
					</ul>
				</div>
				<!--nav侧边菜单-->
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav navbar-right">
						<li>
							<a href="./userOrders.html">我的订单</a>
						</li>
						<li class="dropdown">
							<a href="#" class="dropdown-toggle">welcome User<span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li>
									<a href="./userInfo.html">个人信息界面</a>
								</li>
								<li class="divider"></li>
								<li>
									<a href="../index.html">退出</a>
								</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="main-body" ng-controller='userInfo_content'>
			<div class="up-down form-up">
				<form class="form-horizontal" role="form">
					<h3>用户个人详细信息</h3>
					<!--用户名-->
					<div class="form-group">
						<label class="col-sm-2 control-label">用户名</label>
						<div class="line input-line col-sm-10">
							<span ng-bind='userInfo.Account'></span>
						</div>
					</div>
					<!--真实姓名-->
					<div class="form-group">
						<label for="inputUserName" class="col-sm-2 control-label">真实姓名</label>
						<div class="line input-line col-sm-10">
							<span ng-bind='userInfo.UserName' ng-hide='updateInfo'></span>
							<input id="inputUserName" type="text" class="form-control" placeholder="请输入用户真实姓名" ng-model='userInfo.UserName' ng-show='updateInfo'>
						</div>
					</div>
					<!--邮箱-->
					<div class="form-group">
						<label for="inputEmail" class="col-sm-2 control-label">邮箱地址</label>
						<div class="line input-line col-sm-10">
							<span ng-bind='userInfo.Email' ng-hide='updateInfo'></span>
							<input id="inputEmail" type="text" class="form-control" placeholder="请输入邮箱地址" ng-model='userInfo.Email' ng-show='updateInfo'>
						</div>
					</div>
					<!--手机号码-->
					<div class="form-group">
						<label for="inputPhone" class="col-sm-2 control-label">手机号码</label>
						<div class="line input-line col-sm-10">
							<span ng-bind='userInfo.Phone' ng-hide='updateInfo'></span>
							<input type="text" id="inputPhone" class="form-control" placeholder="请输入手机号码" ng-model='userInfo.Phone' ng-show='updateInfo'>
						</div>
					</div>
					<!--机构信息-->
					<div class="form-group">
						<label class="col-sm-2 control-label">默认所属机构</label>
						<div class="line org-line col-sm-10" id="org">
							<span ng-bind='userInfo.defaultInstitution'></span>
						</div>
						<button class="btn btn-default" onclick="window.location.href='institution.html'">机构信息管理</button>
					</div>
					<!--用户原密码-->
					<div class="form-group" ng-show='updatePwd'>
						<label for="inputPwd" class="col-sm-2 control-label">请输入原密码</label>
						<div class="line input-line col-sm-10">
							<input id="inputPwd" type="text" class="form-control" placeholder="请输入原密码" ng-model='userInfo.lastPwd'>
						</div>
					</div>
					<!--用户新密码-->
					<div class="form-group" ng-show='updatePwd'>
						<label for="inputPwd" class="col-sm-2 control-label">请输入新密码</label>
						<div class="line input-line col-sm-10">
							<input id="inputPwd" type="text" class="form-control" placeholder="请输入新密码" ng-model='userInfo.newPwd'>
						</div>
					</div>
					<!--用户二次新密码-->
					<div class="form-group" ng-show='updatePwd'>
						<label for="inputPwd" class="col-sm-2 control-label">请再次确认新密码</label>
						<div class="line input-line col-sm-10">
							<input id="inputPwd" type="text" class="form-control" placeholder="请再次确认新密码" ng-model='userInfo.confirmPwd' ng-blur='userInfo.newPwd==userInfo.confirmPwd?pwdSame=true:pwdSame=false'>
						</div>
						<span ng-hide='pwdSame' style="color: red;">密码输入不一致</span>
					</div>
					<!--用户可使用的操作-->
					<div class="form-group" id="submitInfo">
						<label class="col-sm-2 control-label">操作</label>
						<div class="line org-line col-sm-10">
							<input type='button' class="btn btn-primary " value="确认修改" ng-show='updateInfo' ng-click='updateUserInfo()'>
							<input type='button' class="btn btn-primary " value="确认修改" ng-show='updatePwd' ng-click='updateUserPwd()' ng-disabled='!pwdSame'>
							<input type='button' class="btn btn-primary " value="修改个人信息" ng-hide='isUpdate' ng-click='updateInfo=true;isUpdate=true'>
							<input type='button' class="btn btn-primary " value="修改登录密码" ng-hide='isUpdate' ng-click='updatePwd=true;isUpdate=true'>
							<input type='button' class="btn btn-primary " value="取消修改" ng-show='isUpdate' ng-click='cancleUpdate()'>
						</div>
					</div>
				</form>
			</div>
		</div>
	</body>
	<script src="../js/user/userInfo.js" type="text/javascript" charset="utf-8"></script>

</html>